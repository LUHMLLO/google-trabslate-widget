<!-- Google Tag Manager (noscript) -->
<noscript
  ><iframe
    src="https://www.googletagmanager.com/ns.html?id=GTM-WF7SZSD"
    height="0"
    width="0"
    style="display: none; visibility: hidden"
  ></iframe
></noscript>
<!-- End Google Tag Manager (noscript) -->

<style>
  #google_translate_element {
    display: none;
    opacity: 0;
    visibility: hidden;
    user-select: none;
    pointer-events: none;
  }

  body > div.skiptranslate {
    display: none;
    opacity: 0;
    visibility: hidden;
    user-select: none;
    pointer-events: none;
  }

  body {
    top: 0 !important;
  }

  font {
    font: inherit !important;
  }

  form > font {
    width: 100%;
  }
</style>

<script>
  //////////////////////////////////////////////////////////////////////////////////////////////////////

  /* navbar related stuff */

  let page_body = document.getElementsByTagName("body")[0];
  let navbar_desktop = document.getElementById("navbar-menu-desktop");
  let navbar_mobile = document.getElementById("navbar-menu-mobile");
  let navbar_menu_open = document.getElementById("navbar-menu-open");
  let navbar_menu_close = document.getElementById("navbar-menu-close");

  navbar_menu_open.onclick = () => {
    page_body.style.overflow = "hidden";
    navbar_desktop.style.display = "none";
    navbar_mobile.style.display = "flex";
  };

  navbar_menu_close.onclick = () => {
    page_body.style.overflow = "auto";
    navbar_desktop.style.display = "flex";
    navbar_mobile.style.display = "none";
  };

  onresize = (event) => {
    if (window.innerWidth >= 991) {
      page_body.style.overflow = "auto";
      navbar_desktop.style.display = "flex";
      navbar_mobile.style.display = "none";
    }
  };

  //////////////////////////////////////////////////////////////////////////////////////////////////////

  /* language translation related stuff */

  let btn_en_1 = document.getElementById("language-en-1");
  let btn_es_1 = document.getElementById("language-es-1");
  let btn_en_2 = document.getElementById("language-en-2");
  let btn_es_2 = document.getElementById("language-es-2");

  let gt_Elements = document.getElementsByClassName("goog-te-combo");

  const site_name = "El BÃºho Eatery";

  const translations = {
    english: {
      welcome_title: `Welcome to ${site_name}`,
      events_title: `Events by ${site_name}`,
    },
    spanish: {
      welcome_title: `Bienvenidos a ${site_name}`,
      events_title: `Eventos de ${site_name}`,
    },
  };

  function googleTranslateElementInit() {
    new google.translate.TranslateElement("google_translate_element");
  }

  function setLanguage(language) {
    gt_Elements[0].childNodes.forEach((element) => {
      if (element.value == language) {
        gt_Elements[0].value = language;
        gt_Elements[0].dispatchEvent(new Event("change"));
      }
    });

    if (language === "en") {
      document
        .querySelectorAll("[language-reference='welcome_title']")
        .forEach(
          (element) => (element.innerHTML = translations.english.welcome_title)
        );

      document
        .querySelectorAll("[language-reference='events_title']")
        .forEach(
          (element) => (element.innerHTML = translations.english.events_title)
        );
    }

    if (language === "es") {
      document
        .querySelectorAll("[language-reference='welcome_title']")
        .forEach(
          (element) => (element.innerHTML = translations.spanish.welcome_title)
        );

      document
        .querySelectorAll("[language-reference='events_title']")
        .forEach(
          (element) => (element.innerHTML = translations.spanish.events_title)
        );
    }
  }

  btn_en_1.onclick = () => {
    setLanguage("en");
  };
  btn_en_2.onclick = () => {
    setLanguage("en");
  };
  btn_es_1.onclick = () => {
    setLanguage("es");
  };
  btn_es_2.onclick = () => {
    setLanguage("es");
  };

  //////////////////////////////////////////////////////////////////////////////////////////////////////

  /* google translate widget */

  (function () {
    var gtConstEvalStartTime = new Date(); /*
    
     Copyright The Closure Library Authors.
     SPDX-License-Identifier: Apache-2.0
    */
    function d(b) {
      var a = document.getElementsByTagName("head")[0];
      a ||
        (a = document.body.parentNode.appendChild(
          document.createElement("head")
        ));
      a.appendChild(b);
    }
    function _loadJs(b) {
      var a = document.createElement("script");
      a.type = "text/javascript";
      a.charset = "UTF-8";
      a.src = b;
      d(a);
    }
    function _loadCss(b) {
      var a = document.createElement("link");
      a.type = "text/css";
      a.rel = "stylesheet";
      a.charset = "UTF-8";
      a.href = b;
      d(a);
    }
    function _isNS(b) {
      b = b.split(".");
      for (var a = window, c = 0; c < b.length; ++c)
        if (!(a = a[b[c]])) return !1;
      return !0;
    }
    function _setupNS(b) {
      b = b.split(".");
      for (var a = window, c = 0; c < b.length; ++c)
        a.hasOwnProperty
          ? a.hasOwnProperty(b[c])
            ? (a = a[b[c]])
            : (a = a[b[c]] = {})
          : (a = a[b[c]] || (a[b[c]] = {}));
      return a;
    }
    window.addEventListener &&
      "undefined" == typeof document.readyState &&
      window.addEventListener(
        "DOMContentLoaded",
        function () {
          document.readyState = "complete";
        },
        !1
      );
    if (_isNS("google.translate.Element")) {
      return;
    }
    (function () {
      var c = _setupNS("google.translate._const");
      c._cest = gtConstEvalStartTime;
      gtConstEvalStartTime = undefined;
      c._cl = "en";
      c._cuc = "googleTranslateElementInit";
      c._cac = "";
      c._cam = "";
      c._ctkk = "440053.447281741";
      var h = "translate.googleapis.com";
      var s =
        (true
          ? "https"
          : window.location.protocol == "https:"
          ? "https"
          : "http") + "://";
      var b = s + h;
      c._pah = h;
      c._pas = s;
      c._pbi = b + "/translate_static/img/te_bk.gif";
      c._pci = b + "/translate_static/img/te_ctrl3.gif";
      c._pli = b + "/translate_static/img/loading.gif";
      c._plla = h + "/translate_a/l";
      c._pmi = b + "/translate_static/img/mini_google.png";
      c._ps = b + "/translate_static/css/translateelement.css";
      c._puh = "translate.google.com";
      _loadCss(c._ps);
      _loadJs(b + "/translate_static/js/element/main.js");
    })();
  })();

  //////////////////////////////////////////////////////////////////////////////////////////////////////

  onload = (event) => {
    const currentLangue = localStorage.getItem("current_language");

    if (!currentLangue) {
      setLanguage("en");
      localStorage.setItem("current_language", "en");
    } else {
      setLanguage(currentLangue);
    }
  };

  //////////////////////////////////////////////////////////////////////////////////////////////////////
</script>
